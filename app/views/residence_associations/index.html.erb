<p id="notice"><%= notice %></p>



<div class="jumbotron well-lg">
  <h1>Residence Associations</h1>

  <table id="associations-table" class="table table-bordered">
    <thead>
    <tr>
      <th>Name</th>
      <th>Lat</th>
      <th>Lng</th>
      <th>Association admin</th>
      <% if current_user %>
          <th colspan="2"></th>
      <% end %>
    </tr>
    </thead>

    <tbody>
    <% @residence_associations.each do |residence_association| %>
        <tr>
          <td><%= link_to residence_association.name, residence_association_url(residence_association, subdomain: residence_association.subdomain) %></td>
          <td><%= residence_association.lat %></td>
          <td><%= residence_association.lng %></td>
          <td><%= residence_association.association_admin.name %></td>
          <% if current_user %>
              <td></td>
              <td><%= link_to 'Edit', edit_residence_association_url(residence_association, subdomain: residence_association.subdomain) %></td>
              <td><%= link_to 'Destroy', residence_association_url(residence_association, subdomain: residence_association.subdomain), method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        </tr>
    <% end %>
    </tbody>
  </table>

  <br>

</div>

<script type="application/javascript">
  $(document).ready( function() {
    $('#associations-table').dataTable({
      "columnDefs": [
        {
          "targets": [ 4 ],
          "searchable": false,
          "sortable": false
        },
        {
          "targets": [ 5 ],
          "searchable": false,
          "sortable": false
        },
        {
          "targets": [ 6 ],
          "searchable": false,
          "sortable": false
        }
      ]

    });
  } );
</script>